<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcidslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <title>CustomerServices</title>

  <style>
    button:hover {
      background: black;
    }
    tr:nth-child(even){
          background-color : lightgray;
    }

  </style>
</head>
<body>
<div style = "width : 100%; background-image : url('/static/Image/back1.jpeg');">
    <form action = "{{url_for('CustomerServices', Category=Category)}}" method = "POST">
        <div id = "header" style = "z-index : 1000; position : fixed; background-image : url('/static/Image/back1.jpeg'); width : 100%; height : 100px;">
            <b style = "float : left; padding : 23px 35px; font-size : 30px; color : white; font-family : chalkboard;"> {{User}}'s Dashboard </b>
            <b style = "float : right; padding : 35px 20px; font-size : 22px; color : white; font-family : chalkboard; margin-right : 2%;"><a href = "/Logout"  style = "text-decoration : None; color : white;"> Logout </a></b>
            <b style = "float : right; padding : 35px 20px; font-size : 22px; color : white; font-family : chalkboard;"><a href = "/CustomerSummary" style = "text-decoration : None; color : white;"> Summary </a></b>
            <b style = "float : right; padding : 35px 20px; font-size : 22px; color : white; font-family : chalkboard;"><a href = "/Search" style = "text-decoration : None; color : white;"> Search </a></b>
            <b style = "float : right; padding : 35px 20px; font-size : 22px; color : white; font-family : chalkboard;"><a href = "/dashboard" style = "text-decoration : None; color : white;"> Dashboard </a></b>
            <b style = "float : right; padding : 35px 20px; font-size : 22px; color : white; font-family : chalkboard;"><a href = "/" style = "text-decoration : None; color : white;"> Home </a></b>
        </div><br>

      <div id = "main1" style = "margin-top : 10%; text-align : center; width : 95%; margin-left : auto; margin-right : auto;">
        <div class="card" style="z-index: 500; border : 2px solid black; border-radius : 15px; height : 95%; text-align : center; margin-left : auto; margin-right : auto;margin-left : auto; margin-right : auto; background-image : url('/static/Image/back3.jpg');">
          <div class="card-body" align = "center">

            <table style = "width : 90%; border : 2px solid black; border-collapse : collapse; margin-top : 1%; margin-left : auto; margin-right : auto;">
              <thead> <b style = "font-size : 35px; color : maroon; font-family : chalkboard;">{{Category}}</b>
                  <tr>
                      <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Service Name</th>
                      <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Professional Name</th>
                      <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Professional Email</th>
                      <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Base Price</th>
                      <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Action</th>
                  </tr>
              </thead>

              <tbody>
                  {% if items %}
                      {% for item in items if items %}
                          <tr>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">{{item[0]}}</td>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">{{item[1]}}</td>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">{{item[2]}}</td>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">{{item[3]}}</td>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard; background-color : white;"><a href="/Payment/{{Email}}/{{User}}/{{item[0]}}/{{item[1]}}/{{item[2]}}/{{item[3]}}/{{Category}}/" target = "_blank" class="btn btn-primary" style = "width : 85%; height : 50px; font-size : 20px; background-color : #00CC33; border : 4px solid; border-radius : 10px;">Request</a></td>
                          </tr>
                      {% endfor %}
                  {% else %}
                      <tr>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">Not Available</td>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">Not Available</td>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">Not Available</td>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">Not Available</td>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard; background-color : white;">Not Available</td>
                      </tr>
                  {% endif %}
              </tbody>
            </table><br>
          </div>
        </div>
      </div>

      <div id = "main1" style = "margin-top : 10%; text-align : center; margin-left : auto; margin-right : auto; width : 95%;">
        <div class="card" style="z-index: 500; border : 2px solid black; border-radius : 15px; height : 95%; text-align : center; background-image : url('/static/Image/back3.jpg');">
          <div class="card-body" align = "center">
            <table style = "width : 95%; border : 2px solid black; border-collapse : collapse; margin-top : 1%; margin-left : auto; margin-right : auto;">
              <thead> <b style = "font-size : 35px; color : maroon; font-family : chalkboard;">Service History</b>
                      <tr>
                          <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Service Name</th>
                          <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Professional Name</th>
                          <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Professional Email</th>
                          <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Status</th>
                          <th style = "border : 3px solid black; padding : 1% 1%; background-color : #CC6600; color : white; text-align : center; font-family : chalkboard; font-size : 23px;">Action</th>
                      </tr>
              </thead>

              <tbody>
                  {% if items3 %}
                      {% for item in items3 %}
                          <tr>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">{{item[0]}}</td>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">{{item[1]}}</td>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">{{item[2]}}</td>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard; background-color : {{'white' if item[7]}}">
                                  {% if item[7] %}
                                      <img src = {{item[7]}} width = "150px" height = "30px" />
                                  {% else %}
                                      {{item[3]}}
                                  {% endif %}
                              </td>
                              <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard; background-color : white;"><a href="{{item[6] if item[3] == 'Accepted' else '#'}}" class="btn btn-primary" style = "width : 75%; font-size : 18px; background-color : {{'orange' if item[3] == 'Accepted' else 'red'}}; border : 4px solid white; border-radius : 10px;">{{'Rate Us' if item[3] == 'Accepted' else 'Canceled Request'}}</a></td></td>
                          </tr>
                      {% endfor %}
                  {% else %}
                      <tr>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">Not Available</td>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">Not Available</td>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">Not Available</td>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard;">Not Available</td>
                          <td style = "border : 3px solid black; height : 40px; text-align : center; font-family : chalkboard; background-color : white;">Not Available</td>
                      </tr>
                  {% endif %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <br><br><br><br>
      <p style = "margin-left : 2%; color : white;"> Shahzada Moon | Copyright, 2024 </p><br>
    </form>
</div>
</body>
</html>